<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ó–∞—Ä—è - –ì—Ä—É–ø–ø—ã</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  
  <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  
  <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —à—Ä–∏—Ñ—Ç–∞ Inter -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap">
  
  <!-- –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ (styles.css) -->
  <link rel="stylesheet" href="styles.css">
  
  <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Telegram Web Apps SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  
  <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è groups.html -->
  <style>
    /* –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ */
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      font-family: 'Inter', sans-serif;
      background-color: var(--color-bg, #fcf8f8);
    }
    /* –û–±–æ–ª–æ—á–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã ‚Äì 100vh, overflow-y: auto –¥–ª—è —Å–ø–∏—Å–∫–∞ */
    .page-wrapper {
      display: flex;
      flex-direction: column;
      align-items: center;
      height: 100vh;
      background-color: var(--color-bg, #fcf8f8);
      overflow-y: auto; 
      position: relative; /* –¥–ª—è –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä–∞, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ */
    }
    /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
    .project-title {
      font-size: 1.25rem;
      font-weight: bold;
      margin-top: calc(env(safe-area-inset-top, 20px) + 0.5rem);
      margin-bottom: 1rem;
      color: var(--color-text, #1b0d0d);
      text-align: center;
    }
    /* –°–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø */
    .groups-list {
      list-style: none;
      margin: 0;
      padding: 0 1rem;
      display: flex;
      flex-direction: column;
      width: 100%;
      max-width: 400px;
    }
    /* –ë–ª–æ–∫ –≥—Ä—É–ø–ø—ã ‚Äî –±–æ–ª–µ–µ –º—è–≥–∫–∞—è —Ç–µ–Ω—å + –Ω–µ–±–æ–ª—å—à–æ–π –æ—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É –¥–ª—è "–æ–ø—É—Å—Ç–∏—Ç—å" */
    .group-card {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 0.75rem; /* —á—É—Ç—å –æ–ø—É—Å–∫–∞–µ–º */
      padding: 0.5rem;
      background-color: var(--color-bg, #fcf8f8);
      border: 1px solid rgba(0, 0, 0, 0.05);
      border-radius: 0.5rem;
      box-shadow: 0 3px 6px rgba(0, 0, 0, 0.07); /* –Ω–µ–∂–Ω–µ–µ */
    }
    .group-info h3 {
      margin: 0;
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--color-text, #1b0d0d);
    }
    .group-info p {
      margin: 0.25rem 0 0;
      font-size: 0.75rem;
      color: var(--color-secondary, #6b7280);
    }
    /* –ö–Ω–æ–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π –≥—Ä—É–ø–ø—ã */
    .create-group-container {
      margin-top: 1rem;
      width: 100%;
      text-align: center;
      padding: 0 1rem;
    }

    /* –°—Ç–∏–ª–∏ –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä–∞ (—Ç–∞–∫–∏–µ –∂–µ, –∫–∞–∫ –Ω–∞ index.html) */
    #audio-player {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      background-color: #f3ebe7;
      border-radius: 0.5rem;
      max-width: 400px;
      width: 90%;
      margin: 1rem auto;
      padding: 0.5rem;
      box-sizing: border-box;
      color: #97674e;
    }
    #mute-toggle {
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      color: inherit;
    }
    #seekbar {
      flex-grow: 1;
      -webkit-appearance: none;
      background: transparent;
      cursor: pointer;
      height: 4px;
      margin: 0;
    }
    #seekbar:focus {
      outline: none;
    }
    #seekbar::-webkit-slider-runnable-track {
      height: 4px;
      border-radius: 9999px;
      background-color: rgba(230,93,25,0.4);
    }
    #seekbar::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 16px;
      height: 16px;
      margin-top: -6px;
      background-color: #e65d19;
      border-radius: 9999px;
      cursor: pointer;
    }
    #seekbar::-moz-range-track {
      height: 4px;
      border-radius: 9999px;
      background-color: rgba(230,93,25,0.4);
    }
    #seekbar::-moz-range-thumb {
      width: 16px;
      height: 16px;
      background-color: #e65d19;
      border-radius: 9999px;
      border: none;
      cursor: pointer;
    }
    #audio-player span {
      font-size: 0.875rem;
      color: inherit;
    }
  </style>
</head>
<body>
  <div class="page-wrapper">
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
    <div class="project-title">–ü—Ä–æ–µ–∫—Ç –ó–∞—Ä—è</div>
    
    <!-- –°–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø -->
    <ul class="groups-list">
      <li>
        <article class="group-card" aria-label="–ì—Ä—É–ø–ø–∞ –ù–∞—Ä–∫–æ–º–∞–Ω–∏—è">
          <div class="group-info">
            <h3>–ù–∞—Ä–∫–æ–º–∞–Ω–∏—è</h3>
            <p>1.3K —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ ¬∑ 20 —Å–æ–æ–±—â–µ–Ω–∏–π/–¥–µ–Ω—å</p>
          </div>
          <a href="https://t.me/SafeSpace_DA_bot" target="_blank" rel="noopener noreferrer" class="btn btn-light" aria-label="–í—Å—Ç—É–ø–∏—Ç—å –≤ –≥—Ä—É–ø–ø—É –ù–∞—Ä–∫–æ–º–∞–Ω–∏—è">
            –í—Å—Ç—É–ø–∏—Ç—å
          </a>
        </article>
      </li>
      <li>
        <article class="group-card" aria-label="–ì—Ä—É–ø–ø–∞ –ê–ª–∫–æ–≥–æ–ª–∏–∑–º">
          <div class="group-info">
            <h3>–ê–ª–∫–æ–≥–æ–ª–∏–∑–º</h3>
            <p>2K —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ ¬∑ 30 —Å–æ–æ–±—â–µ–Ω–∏–π/–¥–µ–Ω—å</p>
          </div>
          <a href="https://t.me/SafeSpace_AL_bot" target="_blank" rel="noopener noreferrer" class="btn btn-light" aria-label="–í—Å—Ç—É–ø–∏—Ç—å –≤ –≥—Ä—É–ø–ø—É –ê–ª–∫–æ–≥–æ–ª–∏–∑–º">
            –í—Å—Ç—É–ø–∏—Ç—å
          </a>
        </article>
      </li>
      <li>
        <article class="group-card" aria-label="–ì—Ä—É–ø–ø–∞ –õ—É–¥–æ–º–∞–Ω–∏—è">
          <div class="group-info">
            <h3>–õ—É–¥–æ–º–∞–Ω–∏—è</h3>
            <p>1K —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ ¬∑ 5 —Å–æ–æ–±—â–µ–Ω–∏–π/–¥–µ–Ω—å</p>
          </div>
          <a href="https://t.me/SafeSpace_LU_bot" target="_blank" rel="noopener noreferrer" class="btn btn-light" aria-label="–í—Å—Ç—É–ø–∏—Ç—å –≤ –≥—Ä—É–ø–ø—É –õ—É–¥–æ–º–∞–Ω–∏—è">
            –í—Å—Ç—É–ø–∏—Ç—å
          </a>
        </article>
      </li>
      <li>
        <article class="group-card" aria-label="–ì—Ä—É–ø–ø–∞ –û–Ω–∫–æ–ª–æ–≥–∏—è">
          <div class="group-info">
            <h3>–û–Ω–∫–æ–ª–æ–≥–∏—è</h3>
            <p>12K —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ ¬∑ 77 —Å–æ–æ–±—â–µ–Ω–∏–π/–¥–µ–Ω—å</p>
          </div>
          <a href="https://t.me/SafeSpace_ON_bot" target="_blank" rel="noopener noreferrer" class="btn btn-light" aria-label="–í—Å—Ç—É–ø–∏—Ç—å –≤ –≥—Ä—É–ø–ø—É –û–Ω–∫–æ–ª–æ–≥–∏—è">
            –í—Å—Ç—É–ø–∏—Ç—å
          </a>
        </article>
      </li>
      <li>
        <article class="group-card" aria-label="–ì—Ä—É–ø–ø–∞ –í–ò–ß –∏–Ω—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ">
          <div class="group-info">
            <h3>–í–ò–ß –∏–Ω—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ</h3>
            <p>1.2K —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ ¬∑ 12 —Å–æ–æ–±—â–µ–Ω–∏–π/–¥–µ–Ω—å</p>
          </div>
          <a href="https://t.me/SafeSpace_HI_bot" target="_blank" rel="noopener noreferrer" class="btn btn-light" aria-label="–í—Å—Ç—É–ø–∏—Ç—å –≤ –≥—Ä—É–ø–ø—É –í–ò–ß –∏–Ω—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ">
            –í—Å—Ç—É–ø–∏—Ç—å
          </a>
        </article>
      </li>
      <li>
        <article class="group-card" aria-label="–ì—Ä—É–ø–ø–∞ –ñ–µ—Ä—Ç–≤—ã –¥–æ–º–∞—à–Ω–µ–≥–æ –Ω–∞—Å–∏–ª–∏—è">
          <div class="group-info">
            <h3>–ñ–µ—Ä—Ç–≤—ã –¥–æ–º–∞—à–Ω–µ–≥–æ –Ω–∞—Å–∏–ª–∏—è</h3>
            <p>1.3K —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ ¬∑ 18 —Å–æ–æ–±—â–µ–Ω–∏–π/–¥–µ–Ω—å</p>
          </div>
          <button class="btn btn-light" aria-label="–í—Å—Ç—É–ø–∏—Ç—å –≤ –≥—Ä—É–ø–ø—É –ñ–µ—Ä—Ç–≤—ã –¥–æ–º–∞—à–Ω–µ–≥–æ –Ω–∞—Å–∏–ª–∏—è" onclick="alert('–§—É–Ω–∫—Ü–∏—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤ –≥—Ä—É–ø–ø—É –≤ —Å—Ç–∞–¥–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!')">
            –í—Å—Ç—É–ø–∏—Ç—å
          </button>
        </article>
      </li>
      <li>
        <article class="group-card" aria-label="–ì—Ä—É–ø–ø–∞ –ë—É–ª–ª–∏–Ω–≥ –∏ —Ç—Ä–∞–≤–ª—è">
          <div class="group-info">
            <h3>–ë—É–ª–ª–∏–Ω–≥ –∏ —Ç—Ä–∞–≤–ª—è</h3>
            <p>500 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ ¬∑ 5 —Å–æ–æ–±—â–µ–Ω–∏–π/–¥–µ–Ω—å</p>
          </div>
          <button class="btn btn-light" aria-label="–í—Å—Ç—É–ø–∏—Ç—å –≤ –≥—Ä—É–ø–ø—É –ë—É–ª–ª–∏–Ω–≥ –∏ —Ç—Ä–∞–≤–ª—è" onclick="alert('–§—É–Ω–∫—Ü–∏—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤ –≥—Ä—É–ø–ø—É –≤ —Å—Ç–∞–¥–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!')">
            –í—Å—Ç—É–ø–∏—Ç—å
          </button>
        </article>
      </li>
      <li>
        <article class="group-card" aria-label="–ì—Ä—É–ø–ø–∞ –¢—Ä–µ–≤–æ–≥–∞ –∏ –¥–µ–ø—Ä–µ—Å—Å–∏—è">
          <div class="group-info">
            <h3>–¢—Ä–µ–≤–æ–≥–∞ –∏ –¥–µ–ø—Ä–µ—Å—Å–∏—è</h3>
            <p>1K —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ ¬∑ 12 —Å–æ–æ–±—â–µ–Ω–∏–π/–¥–µ–Ω—å</p>
          </div>
          <button class="btn btn-light" aria-label="–í—Å—Ç—É–ø–∏—Ç—å –≤ –≥—Ä—É–ø–ø—É –¢—Ä–µ–≤–æ–≥–∞ –∏ –¥–µ–ø—Ä–µ—Å—Å–∏—è" onclick="alert('–§—É–Ω–∫—Ü–∏—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤ –≥—Ä—É–ø–ø—É –≤ —Å—Ç–∞–¥–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!')">
            –í—Å—Ç—É–ø–∏—Ç—å
          </button>
        </article>
      </li>
      <li>
        <article class="group-card" aria-label="–ì—Ä—É–ø–ø–∞ –ù–æ–≤–∏—á–∫–∏, –Ω–∞—á–∞–ª–æ —Ç–µ—Ä–∞–ø–∏–∏">
          <div class="group-info">
            <h3>–ù–æ–≤–∏—á–∫–∏, –Ω–∞—á–∞–ª–æ —Ç–µ—Ä–∞–ø–∏–∏</h3>
            <p>3K —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ ¬∑ 25 —Å–æ–æ–±—â–µ–Ω–∏–π/–¥–µ–Ω—å</p>
          </div>
          <button class="btn btn-light" aria-label="–í—Å—Ç—É–ø–∏—Ç—å –≤ –≥—Ä—É–ø–ø—É –ù–æ–≤–∏—á–∫–∏, –Ω–∞—á–∞–ª–æ —Ç–µ—Ä–∞–ø–∏–∏" onclick="alert('–§—É–Ω–∫—Ü–∏—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤ –≥—Ä—É–ø–ø—É –≤ —Å—Ç–∞–¥–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!')">
            –í—Å—Ç—É–ø–∏—Ç—å
          </button>
        </article>
      </li>
    </ul>
    
    <!-- –ö–Ω–æ–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π –≥—Ä—É–ø–ø—ã -->
    <div class="create-group-container">
      <button class="btn btn-accent" onclick="alert('–§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä—É–ø–ø—ã –≤ —Å—Ç–∞–¥–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!')" aria-label="–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –≥—Ä—É–ø–ø—É">
        –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –≥—Ä—É–ø–ø—É
      </button>
    </div>

    <!-- –ö–∞—Å—Ç–æ–º–Ω—ã–π –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä (—Ç–æ—á—å-–≤-—Ç–æ—á—å –∫–∞–∫ –Ω–∞ index.html) -->
    <div id="audio-player">
      <button id="mute-toggle">üîá</button>
      <input id="seekbar" type="range" min="0" value="0" step="1">
      <span id="current-time">0:00</span> / <span id="duration">0:00</span>
    </div>

    <!-- –°–∫—Ä—ã—Ç—ã–π –∞—É–¥–∏–æ—ç–ª–µ–º–µ–Ω—Ç -->
    <audio id="bgAudio" src="Audio1_calm_music.mp3" loop></audio>
  </div>
  
  <script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web Apps
    window.addEventListener('load', function() {
      if (window.Telegram && Telegram.WebApp) {
        Telegram.WebApp.ready();
        setTimeout(function(){
          Telegram.WebApp.requestFullscreen();
        }, 100);

        // –ù–∞ groups.html: –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É ¬´–ù–∞–∑–∞–¥¬ª, —Å–∫—Ä—ã–≤–∞–µ–º ¬´–ó–∞–∫—Ä—ã—Ç—å¬ª
        if (Telegram.WebApp.CloseButton) {
          Telegram.WebApp.CloseButton.hide();
        }
        if (Telegram.WebApp.BackButton) {
          Telegram.WebApp.BackButton.show();
          Telegram.WebApp.BackButton.onClick(function() {
            window.location.href = 'index.html';
          });
        }
      }
    });

    // === –ö–∞—Å—Ç–æ–º–Ω—ã–π –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä (—Ç–∞–∫–æ–π –∂–µ, –∫–∞–∫ –≤ index.html) ===
    const audio = document.getElementById('bgAudio');
    const muteToggle = document.getElementById('mute-toggle');
    const seekbar = document.getElementById('seekbar');
    const currentTimeSpan = document.getElementById('current-time');
    const durationSpan = document.getElementById('duration');

    // –ß–∏—Ç–∞–µ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    const savedTime = localStorage.getItem('bgAudioTime');
    const savedMuted = localStorage.getItem('bgAudioMuted');

    if (savedTime) {
      audio.currentTime = parseFloat(savedTime) || 0;
    }
    if (savedMuted === 'true') {
      audio.muted = true;
      muteToggle.textContent = 'üîá';
    } else if (savedMuted === 'false') {
      audio.muted = false;
      muteToggle.textContent = 'üîä';
    } else {
      // –ï—Å–ª–∏ –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞ ‚Äî –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é muted
      audio.muted = true;
      muteToggle.textContent = 'üîá';
    }

    // –ó–∞–ø—É—Å–∫–∞–µ–º (–∞–≤—Ç–æ–ø–ª–µ–π) ‚Äî –≤ Telegram, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, —Ä–∞–∑—Ä–µ—à–µ–Ω–æ
    audio.play().catch(err => {
      console.warn('Autoplay might be blocked:', err);
    });

    // –ö–æ–≥–¥–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å
    audio.addEventListener('loadedmetadata', () => {
      seekbar.max = Math.floor(audio.duration);
      durationSpan.textContent = formatTime(audio.duration);
    });

    // –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–∏
    audio.addEventListener('timeupdate', () => {
      seekbar.value = Math.floor(audio.currentTime);
      currentTimeSpan.textContent = formatTime(audio.currentTime);

      // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è/mute
      localStorage.setItem('bgAudioTime', audio.currentTime);
      localStorage.setItem('bgAudioMuted', audio.muted ? 'true' : 'false');
    });

    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ mute
    muteToggle.addEventListener('click', () => {
      audio.muted = !audio.muted;
      muteToggle.textContent = audio.muted ? 'üîá' : 'üîä';
      localStorage.setItem('bgAudioMuted', audio.muted ? 'true' : 'false');
    });

    // –ü–µ—Ä–µ–º–æ—Ç–∫–∞
    seekbar.addEventListener('input', () => {
      audio.currentTime = seekbar.value;
    });

    function formatTime(sec) {
      const mins = Math.floor(sec / 60);
      const secs = Math.floor(sec % 60);
      return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
    }
  </script>
</body>
</html>
