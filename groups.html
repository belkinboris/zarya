<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ó–∞—Ä—è ‚Äî –ì—Ä—É–ø–ø—ã</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  
  <!-- –®—Ä–∏—Ñ—Ç Inter -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap">
  
  <!-- –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ -->
  <link rel="stylesheet" href="styles.css">
  
  <!-- Telegram Web Apps SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <div class="page-wrapper">
    <header class="project-title">–ü—Ä–æ–µ–∫—Ç –ó–∞—Ä—è</header>
    <main>
      <div class="categories-container">
        <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏—è "–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏" -->
        <div class="category-card" onclick="toggleCategory('cat1')">
          <div class="category-header">
            <span>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</span>
            <span id="icon-cat1">+</span>
          </div>
          <div id="cat1" class="chat-list">
            <div class="chat-item">
              <span>–ù–∞—Ä–∫–æ–º–∞–Ω–∏—è</span>
              <a href="https://t.me/SafeSpace_DA_bot" target="_blank" class="btn" onclick="event.stopPropagation();">–í—Å—Ç—É–ø–∏—Ç—å</a>
            </div>
            <div class="chat-item">
              <span>–ê–ª–∫–æ–≥–æ–ª–∏–∑–º</span>
              <a href="https://t.me/SafeSpace_AL_bot" target="_blank" class="btn" onclick="event.stopPropagation();">–í—Å—Ç—É–ø–∏—Ç—å</a>
            </div>
            <div class="chat-item">
              <span>–õ—É–¥–æ–º–∞–Ω–∏—è</span>
              <a href="https://t.me/SafeSpace_LU_bot" target="_blank" class="btn" onclick="event.stopPropagation();">–í—Å—Ç—É–ø–∏—Ç—å</a>
            </div>
          </div>
        </div>
        <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏—è "–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞" -->
        <div class="category-card" onclick="toggleCategory('cat2')">
          <div class="category-header">
            <span>–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</span>
            <span id="icon-cat2">+</span>
          </div>
          <div id="cat2" class="chat-list">
            <div class="chat-item">
              <span>–¢—Ä–µ–≤–æ–≥–∞ –∏ –¥–µ–ø—Ä–µ—Å—Å–∏—è</span>
              <a href="https://t.me/SafeSpace_DE_bot" target="_blank" class="btn" onclick="event.stopPropagation();">–í—Å—Ç—É–ø–∏—Ç—å</a>
            </div>
            <div class="chat-item">
              <span>–ë—É–ª–∏–º–∏—è –∏ –∞–Ω–æ—Ä–µ–∫—Å–∏—è</span>
              <a href="https://t.me/SafeSpace_AN_bot" target="_blank" class="btn" onclick="event.stopPropagation();">–í—Å—Ç—É–ø–∏—Ç—å</a>
            </div>
            <div class="chat-item">
              <span>–ñ–µ—Ä—Ç–≤—ã –¥–æ–º–∞—à–Ω–µ–≥–æ –Ω–∞—Å–∏–ª–∏—è</span>
              <a href="https://t.me/SafeSpace_DV_bot" target="_blank" class="btn" onclick="event.stopPropagation();">–í—Å—Ç—É–ø–∏—Ç—å</a>
            </div>
          </div>
        </div>
        <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏—è "–ó–¥–æ—Ä–æ–≤—å–µ" -->
        <div class="category-card" onclick="toggleCategory('cat3')">
          <div class="category-header">
            <span>–ó–¥–æ—Ä–æ–≤—å–µ</span>
            <span id="icon-cat3">+</span>
          </div>
          <div id="cat3" class="chat-list">
            <div class="chat-item">
              <span>–û–Ω–∫–æ–ª–æ–≥–∏—è</span>
              <a href="https://t.me/SafeSpace_ON_bot" target="_blank" class="btn" onclick="event.stopPropagation();">–í—Å—Ç—É–ø–∏—Ç—å</a>
            </div>
            <div class="chat-item">
              <span>–í–ò–ß –∏–Ω—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ</span>
              <a href="https://t.me/SafeSpace_HI_bot" target="_blank" class="btn" onclick="event.stopPropagation();">–í—Å—Ç—É–ø–∏—Ç—å</a>
            </div>
            <div class="chat-item">
              <span>–ù–æ–≤–∏—á–∫–∏, –Ω–∞—á–∞–ª–æ —Ç–µ—Ä–∞–ø–∏–∏</span>
             <a href="https://t.me/SafeSpace_NE_bot" target="_blank" class="btn" onclick="event.stopPropagation();">–í—Å—Ç—É–ø–∏—Ç—å</a>
            </div>
            <div class="chat-item">
              <span>–ò–∑–±—ã—Ç–æ—á–Ω—ã–π –≤–µ—Å</span>
              <a href="https://t.me/SafeSpace_EW_bot" target="_blank" class="btn" onclick="event.stopPropagation();">–í—Å—Ç—É–ø–∏—Ç—å</a>
            </div>
          </div>
        </div>
        <!-- –ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è "–°–µ–∫—Å—É–∞–ª—å–Ω–æ—Å—Ç—å" -->
        <div class="category-card" onclick="toggleCategory('cat4')">
          <div class="category-header">
            <span>–°–µ–∫—Å—É–∞–ª—å–Ω–æ—Å—Ç—å</span>
            <span id="icon-cat4">+</span>
          </div>
          <div id="cat4" class="chat-list">
            <div class="chat-item">
              <span>–õ—é–±–æ–≤—å –∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è</span>
              <button class="btn" onclick="alert('–§—É–Ω–∫—Ü–∏—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤ –≥—Ä—É–ø–ø—É –≤ —Å—Ç–∞–¥–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!'); event.stopPropagation();">–í—Å—Ç—É–ø–∏—Ç—å</button>
            </div>
            <div class="chat-item">
              <span>–≠—Ä–æ—Ç–∏—á–µ—Å–∫–æ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</span>
              <button class="btn" onclick="alert('–§—É–Ω–∫—Ü–∏—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤ –≥—Ä—É–ø–ø—É –≤ —Å—Ç–∞–¥–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!'); event.stopPropagation();">–í—Å—Ç—É–ø–∏—Ç—å</button>
            </div>
          </div>
        </div>
        <!-- –ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è "–í–æ—Å–ø–∏—Ç–∞–Ω–∏–µ –¥–µ—Ç–µ–π" -->
        <div class="category-card" onclick="toggleCategory('cat5')">
          <div class="category-header">
            <span>–í–æ—Å–ø–∏—Ç–∞–Ω–∏–µ –¥–µ—Ç–µ–π</span>
            <span id="icon-cat5">+</span>
          </div>
          <div id="cat5" class="chat-list">
            <div class="chat-item">
              <span>–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –≤–æ—Å–ø–∏—Ç–∞–Ω–∏—è</span>
              <button class="btn" onclick="alert('–§—É–Ω–∫—Ü–∏—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤ –≥—Ä—É–ø–ø—É –≤ —Å—Ç–∞–¥–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!'); event.stopPropagation();">–í—Å—Ç—É–ø–∏—Ç—å</button>
            </div>
            <div class="chat-item">
              <span>–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ —Ä–µ–±–µ–Ω–∫–∞</span>
              <button class="btn" onclick="alert('–§—É–Ω–∫—Ü–∏—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤ –≥—Ä—É–ø–ø—É –≤ —Å—Ç–∞–¥–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!'); event.stopPropagation();">–í—Å—Ç—É–ø–∏—Ç—å</button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- –ê—É–¥–∏–æ–ø–ª–µ–µ—Ä (—Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ –Ω–∞ index.html) -->
      <div id="audio-player">
        <button id="mute-toggle">üîá</button>
        <input id="seekbar" type="range" min="0" value="0" step="1">
        <span id="current-time">0:00</span> / <span id="duration">0:00</span>
      </div>
      <audio id="bgAudio" src="Audio1_calm_music.mp3" autoplay muted loop></audio>
    </main>
  </div>
  
  <script>
    // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å –∞–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
    function toggleCategory(id) {
      const allLists = document.querySelectorAll('.chat-list');
      const allIcons = document.querySelectorAll('.category-header span[id^="icon-"]');
      
      allLists.forEach(list => {
        if (list.id !== id) {
          list.style.display = 'none';
        }
      });
      allIcons.forEach(icon => {
        if (icon.id !== 'icon-' + id) {
          icon.textContent = '+';
        }
      });
      
      const list = document.getElementById(id);
      const icon = document.getElementById('icon-' + id);
      if (list.style.display === 'flex') {
        list.style.display = 'none';
        icon.textContent = '+';
      } else {
        list.style.display = 'flex';
        icon.textContent = '‚àí';
      }
    }
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web Apps –∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä–∞ muted
    window.addEventListener('load', function() {
      if (window.Telegram && Telegram.WebApp) {
        Telegram.WebApp.ready();
        setTimeout(() => Telegram.WebApp.requestFullscreen(), 100);
        if (Telegram.WebApp.BackButton) {
          Telegram.WebApp.BackButton.show();
          Telegram.WebApp.BackButton.onClick(() => location.replace('index.html'));
        }
        if (Telegram.WebApp.CloseButton) Telegram.WebApp.CloseButton.hide();
      }
      // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ–º –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä –≤ —Ä–µ–∂–∏–º–µ muted
      const audio = document.getElementById('bgAudio');
      audio.muted = true;
      audio.play().catch(() => console.log('–ê—É–¥–∏–æ–ø–ª–µ–µ—Ä –Ω–µ –º–æ–∂–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏'));
    });
    
    // –ê—É–¥–∏–æ–ø–ª–µ–µ—Ä —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è
    const audio = document.getElementById('bgAudio');
    const muteToggle = document.getElementById('mute-toggle');
    const seekbar = document.getElementById('seekbar');
    const currentTimeSpan = document.getElementById('current-time');
    const durationSpan = document.getElementById('duration');
  
    audio.addEventListener('loadedmetadata', () => {
      const savedTime = localStorage.getItem('bgAudioCurrentTime');
      if (savedTime) audio.currentTime = parseFloat(savedTime);
      const savedMuted = localStorage.getItem('bgAudioMuted');
      audio.muted = savedMuted !== null ? (savedMuted === 'true') : true;
      muteToggle.textContent = audio.muted ? 'üîá' : 'üîä';
      seekbar.max = Math.floor(audio.duration);
      durationSpan.textContent = formatTime(audio.duration);
    });
  
    audio.addEventListener('timeupdate', () => {
      seekbar.value = Math.floor(audio.currentTime);
      currentTimeSpan.textContent = formatTime(audio.currentTime);
      localStorage.setItem('bgAudioCurrentTime', audio.currentTime);
    });
  
    muteToggle.addEventListener('click', () => {
      audio.muted = !audio.muted;
      muteToggle.textContent = audio.muted ? 'üîá' : 'üîä';
      localStorage.setItem('bgAudioMuted', audio.muted);
    });
  
    seekbar.addEventListener('input', () => {
      audio.currentTime = seekbar.value;
      localStorage.setItem('bgAudioCurrentTime', audio.currentTime);
    });
  
    function formatTime(seconds) {
      const mins = Math.floor(seconds / 60);
      const secs = Math.floor(seconds % 60);
      return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
    }
  </script>
</body>
</html>
