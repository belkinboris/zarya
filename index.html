<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ó–∞—Ä—è ‚Äî –û–±—ä—ë–º–Ω—ã–µ –¢–µ–Ω–∏</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  
  <!-- –®—Ä–∏—Ñ—Ç Inter -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap">
  
  <!-- –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ -->
  <link rel="stylesheet" href="styles.css">
  
  <!-- Telegram Web Apps SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <div class="page-wrapper">
    <header class="project-title">–ü—Ä–æ–µ–∫—Ç –ó–∞—Ä—è</header>
    <main>
      <section class="scroll-container" aria-label="–û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ">
        <!-- –í–∫–ª–∞–¥–∫–∞ "–û—Å–æ–∑–Ω–∞–π" -->
        <article class="scroll-card">
          <div class="scroll-item" style="background-image: url('https://cdn.usegalileo.ai/sdxl10/3b6b25bd-c463-43ae-b072-9d1dae0b7c25.png');">
            <div class="text-overlay">
              <h2>–û—Å–æ–∑–Ω–∞–π</h2>
              <p>–ò–ò-–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø–æ–º–æ–∂–µ—Ç —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ –º—ã—Å–ª—è—Ö –∏ –Ω–∞–π—Ç–∏ —Ä–µ—à–µ–Ω–∏–µ.</p>
              <button class="btn btn-accent" onclick="window.location.href='https://t.me/Zarya_AI_bot'">
                –ò–ò-–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç
              </button>
            </div>
          </div>
        </article>

        <!-- –í–∫–ª–∞–¥–∫–∞ "–£–∑–Ω–∞–π" -->
        <article class="scroll-card">
          <div class="scroll-item" style="background-image: url('https://cdn.usegalileo.ai/sdxl10/7422235d-57b0-4d00-8dd9-864a619ed2d7.png');">
            <div class="text-overlay">
              <h2>–£–∑–Ω–∞–π</h2>
              <p>–ü–æ–¥–ø–∏—à–∏—Å—å –Ω–∞ –Ω–∞—à –¢–µ–ª–µ–≥—Ä–∞–º –∫–∞–Ω–∞–ª –∏ —É–∑–Ω–∞–≤–∞–π –ø–æ–ª–µ–∑–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã.</p>
              <button class="btn btn-accent" onclick="window.location.href='https://t.me/LeoBel_Zarya'">
                –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞
              </button>
            </div>
          </div>
        </article>
      </section>
      
      <!-- –ê—É–¥–∏–æ–ø–ª–µ–µ—Ä -->
      <div id="audio-player">
        <button id="mute-toggle">üîá</button>
        <input id="seekbar" type="range" min="0" value="0" step="1">
        <span id="current-time">0:00</span> / <span id="duration">0:00</span>
      </div>
      <audio id="bgAudio" src="Audio1_calm_music.mp3" autoplay muted loop></audio>
    </main>
  </div>
  
  <script>
    /* –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã—Ö —Å–≤–∞–π–ø–æ–≤ */
    let startX = 0, startY = 0;
    document.addEventListener('touchstart', e => {
      startX = e.touches[0].clientX;
      startY = e.touches[0].clientY;
    }, { passive: false });
    document.addEventListener('touchmove', e => {
      const diffX = e.touches[0].clientX - startX;
      const diffY = e.touches[0].clientY - startY;
      if (Math.abs(diffY) > Math.abs(diffX)) e.preventDefault();
    }, { passive: false });

    /* –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web Apps */
    window.addEventListener('load', function() {
      if (window.Telegram && Telegram.WebApp) {
        Telegram.WebApp.ready();
        if (Telegram.WebApp.setSwipeBehavior) {
          Telegram.WebApp.setSwipeBehavior({ allow_vertical_swipe: false });
        }
        setTimeout(() => Telegram.WebApp.requestFullscreen(), 100);
        if (Telegram.WebApp.BackButton) Telegram.WebApp.BackButton.hide();
        if (Telegram.WebApp.CloseButton) Telegram.WebApp.CloseButton.show();
      }
    });

    /* –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ */
    document.addEventListener('DOMContentLoaded', () => {
      const container = document.querySelector('.scroll-container');
      const cards = document.querySelectorAll('.scroll-card');

      function onScroll() {
        const containerRect = container.getBoundingClientRect();
        const containerCenter = containerRect.left + containerRect.width / 2;
        cards.forEach(card => {
          const cardRect = card.getBoundingClientRect();
          const cardCenter = cardRect.left + cardRect.width / 2;
          card.classList.toggle('active', Math.abs(containerCenter - cardCenter) < cardRect.width / 2);
        });
      }

      container.addEventListener('scroll', onScroll);
      onScroll();
    });

    /* –ê—É–¥–∏–æ–ø–ª–µ–µ—Ä */
    const audio = document.getElementById('bgAudio');
    const muteToggle = document.getElementById('mute-toggle');
    const seekbar = document.getElementById('seekbar');
    const currentTimeSpan = document.getElementById('current-time');
    const durationSpan = document.getElementById('duration');

    audio.addEventListener('loadedmetadata', () => {
      seekbar.max = Math.floor(audio.duration);
      durationSpan.textContent = formatTime(audio.duration);
    });
    audio.addEventListener('timeupdate', () => {
      seekbar.value = Math.floor(audio.currentTime);
      currentTimeSpan.textContent = formatTime(audio.currentTime);
    });
    muteToggle.addEventListener('click', () => {
      audio.muted = !audio.muted;
      muteToggle.textContent = audio.muted ? 'üîá' : 'üîä';
    });
    seekbar.addEventListener('input', () => {
      audio.currentTime = seekbar.value;
    });

    function formatTime(seconds) {
      const mins = Math.floor(seconds / 60);
      const secs = Math.floor(seconds % 60);
      return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
    }
  </script>
</body>
</html>
